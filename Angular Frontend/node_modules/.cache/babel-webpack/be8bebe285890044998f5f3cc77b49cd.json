{"ast":null,"code":"import _asyncToGenerator from \"/Users/fazozela/Desktop/Tesis Ciencias/PrototipoFinal/EmocionesApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../faceApiService/face-api.service\";\nimport * as i2 from \"@angular/common/http\";\nexport class VideoService {\n  constructor(faceApiService, http) {\n    var _this = this;\n\n    this.faceApiService = faceApiService;\n    this.http = http;\n    this.cbAi = new EventEmitter();\n\n    this.getLandMark = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (videoElement) {\n        const {\n          globalFace\n        } = _this.faceApiService;\n        const detectionsFaces = yield globalFace.detectAllFaces(videoElement.nativeElement).withFaceExpressions(); //console.log(detectionsFaces);\n\n        const expressions = detectionsFaces[0].expressions || null;\n\n        _this.cbAi.emit({\n          expressions\n        });\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  getFileVideo() {\n    return this.http.get(\"http://localhost:3000/file-serve/video1.mp4\", {\n      responseType: 'blob'\n    });\n  }\n\n}\n\nVideoService.ɵfac = function VideoService_Factory(t) {\n  return new (t || VideoService)(i0.ɵɵinject(i1.FaceApiService), i0.ɵɵinject(i2.HttpClient));\n};\n\nVideoService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: VideoService,\n  factory: VideoService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/Users/fazozela/Desktop/Tesis Ciencias/PrototipoFinal/EmocionesApp/src/app/services/videoService/video.service.ts"],"names":["EventEmitter","i0","i1","i2","VideoService","constructor","faceApiService","http","cbAi","getLandMark","videoElement","globalFace","detectionsFaces","detectAllFaces","nativeElement","withFaceExpressions","expressions","emit","getFileVideo","get","responseType","ɵfac","VideoService_Factory","t","ɵɵinject","FaceApiService","HttpClient","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":";AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,oCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sBAApB;AACA,OAAO,MAAMC,YAAN,CAAmB;AACtBC,EAAAA,WAAW,CAACC,cAAD,EAAiBC,IAAjB,EAAuB;AAAA;;AAC9B,SAAKD,cAAL,GAAsBA,cAAtB;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAY,IAAIR,YAAJ,EAAZ;;AACA,SAAKS,WAAL;AAAA,mCAAmB,WAAOC,YAAP,EAAwB;AACvC,cAAM;AAAEC,UAAAA;AAAF,YAAiB,KAAI,CAACL,cAA5B;AACA,cAAMM,eAAe,SAASD,UAAU,CAACE,cAAX,CAA0BH,YAAY,CAACI,aAAvC,EAAsDC,mBAAtD,EAA9B,CAFuC,CAGvC;;AACA,cAAMC,WAAW,GAAGJ,eAAe,CAAC,CAAD,CAAf,CAAmBI,WAAnB,IAAkC,IAAtD;;AACA,QAAA,KAAI,CAACR,IAAL,CAAUS,IAAV,CAAe;AACXD,UAAAA;AADW,SAAf;AAGH,OARD;;AAAA;AAAA;AAAA;AAAA;AASH;;AACDE,EAAAA,YAAY,GAAG;AACX,WAAO,KAAKX,IAAL,CAAUY,GAAV,CAAc,6CAAd,EAA6D;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAA7D,CAAP;AACH;;AAjBqB;;AAmB1BhB,YAAY,CAACiB,IAAb,GAAoB,SAASC,oBAAT,CAA8BC,CAA9B,EAAiC;AAAE,SAAO,KAAKA,CAAC,IAAInB,YAAV,EAAwBH,EAAE,CAACuB,QAAH,CAAYtB,EAAE,CAACuB,cAAf,CAAxB,EAAwDxB,EAAE,CAACuB,QAAH,CAAYrB,EAAE,CAACuB,UAAf,CAAxD,CAAP;AAA6F,CAApJ;;AACAtB,YAAY,CAACuB,KAAb,GAAqB,aAAc1B,EAAE,CAAC2B,kBAAH,CAAsB;AAAEC,EAAAA,KAAK,EAAEzB,YAAT;AAAuB0B,EAAAA,OAAO,EAAE1B,YAAY,CAACiB,IAA7C;AAAmDU,EAAAA,UAAU,EAAE;AAA/D,CAAtB,CAAnC","sourcesContent":["import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../faceApiService/face-api.service\";\nimport * as i2 from \"@angular/common/http\";\nexport class VideoService {\n    constructor(faceApiService, http) {\n        this.faceApiService = faceApiService;\n        this.http = http;\n        this.cbAi = new EventEmitter();\n        this.getLandMark = async (videoElement) => {\n            const { globalFace } = this.faceApiService;\n            const detectionsFaces = await globalFace.detectAllFaces(videoElement.nativeElement).withFaceExpressions();\n            //console.log(detectionsFaces);\n            const expressions = detectionsFaces[0].expressions || null;\n            this.cbAi.emit({\n                expressions\n            });\n        };\n    }\n    getFileVideo() {\n        return this.http.get(\"http://localhost:3000/file-serve/video1.mp4\", { responseType: 'blob' });\n    }\n}\nVideoService.ɵfac = function VideoService_Factory(t) { return new (t || VideoService)(i0.ɵɵinject(i1.FaceApiService), i0.ɵɵinject(i2.HttpClient)); };\nVideoService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: VideoService, factory: VideoService.ɵfac, providedIn: 'root' });\n"]},"metadata":{},"sourceType":"module"}